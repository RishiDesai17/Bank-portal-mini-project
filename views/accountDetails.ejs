<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/account-details.css">
    <link rel="stylesheet" type="text/css" href="/css/transaction.css">
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;400&display=swap" rel="stylesheet">
</head>
<body>
    <div>
        <h1 class="details" id="welcome" style="text-align: center;">ACCOUNT DETAILS</h1>
        <button class="btn btn-warning" style="position: absolute; right: 30px; top: 30px;" onclick="javascript: window.location.href=`/transactions/account/${window.location.href.split('/')[5]}`">Transfer money</button>
        <div style="display: flex; flex-direction: column; align-items: center; margin-top: 15px;">
            <div class="card" style="padding: 10px 20px 0 20px; box-shadow: 0 0px 20px 0px rgba(0, 0, 0, 0.25);">
                <div class="row"> 
                    <div class="col col-sm-6">
                        <p style="font-family: 'Montserrat', sans-serif"><b>Account No.:</b> <%= account.Account_no %></p>
                    </div>
                    <div class="col col-sm-6">
                        <p style="font-family: 'Montserrat', sans-serif"><b>Balance:</b> <%= account.Balance %></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col col-sm-6">
                        <p style="font-family: 'Montserrat', sans-serif"><b>Bank:</b> <%= account.BankName %></p>
                    </div>
                    <div class="col col-sm-6">
                        <p style="font-family: 'Montserrat', sans-serif"><b>Branch:</b> <%= account.BranchName %></p>    
                    </div>
                </div>
            </div>
        </div>
        <h3 class="details" id="welcome" style="text-align: center; font-size: 30px; margin-bottom: 15px;">TRANSACTIONS</h3>
        <% if(transactions.length === 0) { %>
            <p style="text-align: center;">No transactions yet</p>
        <% } else { %>
            <div class="container">
                <ul class="responsive-table">
                <li class="table-header">
                    <div class="col col-1">Transaction Id</div>
                    <div class="col col-2">Amount</div>
                    <div class="col col-3">Account From</div>
                    <div class="col col-4">Account To</div>
                    <div class="col col-5">Date/Time</div>
                </li>
                <% transactions.forEach(transaction => { %>
                    <li class="table-row">
                        <div class="col col-1" data-label="Transaction Id"><%= transaction.Transaction_id %></div>
                        <div class="col col-2" data-label="Amount">Rs. <%= transaction.Amount %></div>
                        <div class="col col-3" data-label="Account From" style="text-align: center;"><%= transaction.AccountFrom %></div>
                        <div class="col col-4" data-label="Account To" style="text-align: center;"><%= transaction.AccountTo %></div>
                        <div class="col col-5" data-label="Date/Time"><%= transaction.Timestamp.toString().substring(4,15) + " " + transaction.Timestamp.toString().substring(16,21) %></div>
                    </li>
                <% }) %>
                </ul>
            </div>
        <% } %>
    </div>
</body>
</html>